<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Writing Regexps 2021-22 / Utils: wr22::utils::Adt&lt; Variants &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Writing Regexps 2021-22 / Utils
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classwr22_1_1utils_1_1Adt.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classwr22_1_1utils_1_1Adt-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">wr22::utils::Adt&lt; Variants &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A helper class that simplifies creation of algebraic data types.  
 <a href="classwr22_1_1utils_1_1Adt.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="adt_8hpp_source.html">adt.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9116a176cc582e8d2494f5c67ad990f2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> = std::variant&lt; Variants... &gt;</td></tr>
<tr class="memdesc:a9116a176cc582e8d2494f5c67ad990f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A convenience type alias for the concrete <code>std::variant</code> type used.  <a href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">More...</a><br /></td></tr>
<tr class="separator:a9116a176cc582e8d2494f5c67ad990f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afe181fac91c688769f344b047743f9a8"><td class="memTemplParams" colspan="2">template&lt;typename V &gt; </td></tr>
<tr class="memitem:afe181fac91c688769f344b047743f9a8"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#afe181fac91c688769f344b047743f9a8">Adt</a> (V variant)</td></tr>
<tr class="memdesc:afe181fac91c688769f344b047743f9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for each of the variants.  <a href="classwr22_1_1utils_1_1Adt.html#afe181fac91c688769f344b047743f9a8">More...</a><br /></td></tr>
<tr class="separator:afe181fac91c688769f344b047743f9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124818d5ecf87ffbacfda02c0e6628ad"><td class="memTemplParams" colspan="2">template&lt;typename... Fs&gt; </td></tr>
<tr class="memitem:a124818d5ecf87ffbacfda02c0e6628ad"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a124818d5ecf87ffbacfda02c0e6628ad">visit</a> (Fs &amp;&amp;... visitors) const</td></tr>
<tr class="memdesc:a124818d5ecf87ffbacfda02c0e6628ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit the ADT, applying the suitable function from the list of visitors on the variant held.  <a href="classwr22_1_1utils_1_1Adt.html#a124818d5ecf87ffbacfda02c0e6628ad">More...</a><br /></td></tr>
<tr class="separator:a124818d5ecf87ffbacfda02c0e6628ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6391d33129e205236c96768c52304f6b"><td class="memTemplParams" colspan="2">template&lt;typename... Fs&gt; </td></tr>
<tr class="memitem:a6391d33129e205236c96768c52304f6b"><td class="memTemplItemLeft" align="right" valign="top">decltype(auto)&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a6391d33129e205236c96768c52304f6b">visit</a> (Fs &amp;&amp;... visitors)</td></tr>
<tr class="memdesc:a6391d33129e205236c96768c52304f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit the ADT, applying the suitable function from the list of visitors on the variant held.  <a href="classwr22_1_1utils_1_1Adt.html#a6391d33129e205236c96768c52304f6b">More...</a><br /></td></tr>
<tr class="separator:a6391d33129e205236c96768c52304f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8c602bfe240eba9eb3cfc8e15a47f0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#afc8c602bfe240eba9eb3cfc8e15a47f0">as_variant</a> () const</td></tr>
<tr class="memdesc:afc8c602bfe240eba9eb3cfc8e15a47f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the underlying <code>std::variant</code> type (constant version).  <a href="classwr22_1_1utils_1_1Adt.html#afc8c602bfe240eba9eb3cfc8e15a47f0">More...</a><br /></td></tr>
<tr class="separator:afc8c602bfe240eba9eb3cfc8e15a47f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28720386d91d0e96f7d11ce6c5d265f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#ab28720386d91d0e96f7d11ce6c5d265f">as_variant</a> ()</td></tr>
<tr class="memdesc:ab28720386d91d0e96f7d11ce6c5d265f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the underlying <code>std::variant</code> type (non-constant version).  <a href="classwr22_1_1utils_1_1Adt.html#ab28720386d91d0e96f7d11ce6c5d265f">More...</a><br /></td></tr>
<tr class="separator:ab28720386d91d0e96f7d11ce6c5d265f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2d9e9e70b21edbc08051a94cb8c67303"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a2d9e9e70b21edbc08051a94cb8c67303">m_variant</a></td></tr>
<tr class="separator:a2d9e9e70b21edbc08051a94cb8c67303"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename... Variants&gt;<br />
class wr22::utils::Adt&lt; Variants &gt;</div><p >A helper class that simplifies creation of algebraic data types. </p>
<p >Algebraic data types are data types that can have one type of a predefined set of variants, but be stored and represented as values of one common type. In C++, <a href="https://en.cppreference.com/w/cpp/utility/variant"><code>std::variant</code></a> serves exactly this purpose. It is, however, not very convenient to work with or build upon, so this class is designed to simplify building new algebraic data types. It still uses <code>std::variant</code> under the hood.</p>
<p >The template type parameters are the types that the variants may hold (must be distinct types). </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9116a176cc582e8d2494f5c67ad990f2" name="a9116a176cc582e8d2494f5c67ad990f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9116a176cc582e8d2494f5c67ad990f2">&#9670;&nbsp;</a></span>VariantType</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::VariantType =  std::variant&lt;Variants...&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A convenience type alias for the concrete <code>std::variant</code> type used. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afe181fac91c688769f344b047743f9a8" name="afe181fac91c688769f344b047743f9a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe181fac91c688769f344b047743f9a8">&#9670;&nbsp;</a></span>Adt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<div class="memtemplate">
template&lt;typename V &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::Adt </td>
          <td>(</td>
          <td class="paramtype">V&#160;</td>
          <td class="paramname"><em>variant</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for each of the variants. </p>
<p >Construct an instance holding a specified variant. The type <code>V</code> of the variant provided must be one of the types from <code>Variants</code>. Note that this constructor is purposefully implicit, so that the variants as separate types are transparently converted to this common type when necessary.</p>
<p >The variant is taken by value and moved thereafter, so that, when constructing the common type, the variant may be either copied or moved, depending on the user's intentions. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab28720386d91d0e96f7d11ce6c5d265f" name="ab28720386d91d0e96f7d11ce6c5d265f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28720386d91d0e96f7d11ce6c5d265f">&#9670;&nbsp;</a></span>as_variant() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> &amp; <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::as_variant </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the underlying <code>std::variant</code> type (non-constant version). </p>

</div>
</div>
<a id="afc8c602bfe240eba9eb3cfc8e15a47f0" name="afc8c602bfe240eba9eb3cfc8e15a47f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc8c602bfe240eba9eb3cfc8e15a47f0">&#9670;&nbsp;</a></span>as_variant() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> &amp; <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::as_variant </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the underlying <code>std::variant</code> type (constant version). </p>

</div>
</div>
<a id="a6391d33129e205236c96768c52304f6b" name="a6391d33129e205236c96768c52304f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6391d33129e205236c96768c52304f6b">&#9670;&nbsp;</a></span>visit() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<div class="memtemplate">
template&lt;typename... Fs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::visit </td>
          <td>(</td>
          <td class="paramtype">Fs &amp;&amp;...&#160;</td>
          <td class="paramname"><em>visitors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Visit the ADT, applying the suitable function from the list of visitors on the variant held. </p>
<p >This is the non-constant version of the method. See the docs for the constant version for a detailed description and code examples. The only thing different in this version of the method is that the visitors get called with a non-const lvalue reference to the variants instead of a const reference. </p>

</div>
</div>
<a id="a124818d5ecf87ffbacfda02c0e6628ad" name="a124818d5ecf87ffbacfda02c0e6628ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124818d5ecf87ffbacfda02c0e6628ad">&#9670;&nbsp;</a></span>visit() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<div class="memtemplate">
template&lt;typename... Fs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decltype(auto) <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::visit </td>
          <td>(</td>
          <td class="paramtype">Fs &amp;&amp;...&#160;</td>
          <td class="paramname"><em>visitors</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Visit the ADT, applying the suitable function from the list of visitors on the variant held. </p>
<p >Using this method is essentially the same as using <a href="https://en.cppreference.com/w/cpp/utility/variant/visit"><code>std::visit</code></a> on the variant, except that, for convenience, multiple visitors are joined into one big visitor. That is, a typical <code><a class="el" href="classwr22_1_1utils_1_1Adt.html" title="A helper class that simplifies creation of algebraic data types.">Adt</a></code> usage might look like this:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>MyAdt : <span class="keyword">public</span> <a class="code hl_function" href="classwr22_1_1utils_1_1Adt.html#afe181fac91c688769f344b047743f9a8">Adt</a>&lt;int, double&gt; {</div>
<div class="line">    <span class="comment">// Make the constructor available in the derived class.</span></div>
<div class="line">    <span class="keyword">using</span> <a class="code hl_function" href="classwr22_1_1utils_1_1Adt.html#afe181fac91c688769f344b047743f9a8">Adt&lt;int, double&gt;::Adt</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// &lt;...&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> func() {</div>
<div class="line">    <span class="comment">// Variant type: double.</span></div>
<div class="line">    MyAdt my_adt = 3.14;</div>
<div class="line">    <span class="comment">// Prints &quot;Double: 3.14&quot;.</span></div>
<div class="line">    my_adt.visit(</div>
<div class="line">        [](<span class="keywordtype">int</span> x)    { std::cout &lt;&lt; <span class="stringliteral">&quot;Int: &quot;</span>    &lt;&lt; x &lt;&lt; std::endl; },</div>
<div class="line">        [](<span class="keywordtype">double</span> x) { std::cout &lt;&lt; <span class="stringliteral">&quot;Double: &quot;</span> &lt;&lt; x &lt;&lt; std::endl; }</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="ttc" id="aclasswr22_1_1utils_1_1Adt_html_afe181fac91c688769f344b047743f9a8"><div class="ttname"><a href="classwr22_1_1utils_1_1Adt.html#afe181fac91c688769f344b047743f9a8">wr22::utils::Adt::Adt</a></div><div class="ttdeci">Adt(V variant)</div><div class="ttdoc">Constructor for each of the variants.</div><div class="ttdef"><b>Definition:</b> adt.hpp:44</div></div>
</div><!-- fragment --><p >This is the constant version of the method. Visitors must be callable with the const reference to variant types. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2d9e9e70b21edbc08051a94cb8c67303" name="a2d9e9e70b21edbc08051a94cb8c67303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9e9e70b21edbc08051a94cb8c67303">&#9670;&nbsp;</a></span>m_variant</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Variants&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwr22_1_1utils_1_1Adt.html#a9116a176cc582e8d2494f5c67ad990f2">VariantType</a> <a class="el" href="classwr22_1_1utils_1_1Adt.html">wr22::utils::Adt</a>&lt; Variants &gt;::m_variant</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/wr22/utils/<a class="el" href="adt_8hpp_source.html">adt.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacewr22.html">wr22</a></li><li class="navelem"><a class="el" href="namespacewr22_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="classwr22_1_1utils_1_1Adt.html">Adt</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
